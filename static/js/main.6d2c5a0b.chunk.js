(this["webpackJsonpcrud-vs"]=this["webpackJsonpcrud-vs"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),o=a(75),i=a(8),u=a(25),l=a(28),d=a(77),j=a(27),b=a(2),O="ADD_NEW_POST",p="ADD_NEW_POST_SUCCESS",h="ADD_NEW_POST_FAIL",x="GET_POST_DETAILS",f="GET_POST_DETAILS_SUCCESS",v="GET_POST_DETAILS_FAIL",m="DELETE_POST_BY_ID",y="DELETE_POST_BY_ID_SUCCESS",_="DELETE_POST_BY_ID_FAIL",g="UPDATE_POST_BY_ID",P="UPDATE_POST_BY_ID_SUCCESS",E="UPDATE_POST_BY_ID_FAIL",S={posts:[],newPost:{},loadingAddNewPost:!1,loadingRetrievePost:!1,loadingDeletePost:!1,loadingUpdatePost:!1,error:{message:""}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:e=Object(b.a)(Object(b.a)({},e),{},{loadingRetrievePost:!0});break;case f:e=Object(b.a)(Object(b.a)({},e),{},{posts:t.payload,loadingRetrievePost:!1});break;case v:e=Object(b.a)(Object(b.a)({},e),{},{error:{message:"Error"},loadingRetrievePost:!1});break;case O:e=Object(b.a)(Object(b.a)({},e),{},{loadingAddNewPost:!0});break;case p:e=Object(b.a)(Object(b.a)({},e),{},{posts:[t.payload].concat(Object(j.a)(e.posts)),loadingAddNewPost:!1});break;case h:e=Object(b.a)(Object(b.a)({},e),{},{error:{message:"Error"},loadingAddNewPost:!1});break;case m:e=Object(b.a)(Object(b.a)({},e),{},{loadingDeletePost:!0});break;case y:var a=e.posts.findIndex((function(e){return e.id===t.payload})),n=Object(j.a)(e.posts);n.splice(a,1),e=Object(b.a)(Object(b.a)({},e),{},{posts:n,loadingDeletePost:!1});break;case _:e=Object(b.a)(Object(b.a)({},e),{},{error:{message:"Error"},loadingDeletePost:!1});break;case g:e=Object(b.a)(Object(b.a)({},e),{},{loadingUpdatePost:!0});break;case P:var r=e.posts.findIndex((function(e){return e.id===t.payload.id})),c=Object(j.a)(e.posts);c.splice(r,1,t.payload),e=Object(b.a)(Object(b.a)({},e),{},{posts:c,loadingUpdatePost:!1});break;case E:e=Object(b.a)(Object(b.a)({},e),{},{error:{message:"Error"},loadingUpdatePost:!1});break;default:e=Object(b.a)({},e)}return e},T=Object(l.b)({PostReducer:w}),D=a(13),C=a.n(D),k=a(15),N=function(e,t){return{type:g,payload:{id:e,requestBody:t}}},I=a(31),A=a(60),L=a.n(A),U=Object({NODE_ENV:"production",PUBLIC_URL:"/crud-vs-sample",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,R=L.a.create({baseURL:U});function B(){return(B=Object(I.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get(t,Object(b.a)({},a)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(I.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post(t,Object(b.a)({},a)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(I.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.delete(t,Object(b.a)({},a)).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(I.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.patch(t,Object(b.a)({},a)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}L.a.interceptors.request.use((function(e){return e})),R.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var G="/posts",Y=function(e){return function(e,t){return B.apply(this,arguments)}(G,{params:{id:e}})},H=function(e){return function(e,t){return F.apply(this,arguments)}(G,e)},z=function(e){return function(e,t){return M.apply(this,arguments)}("".concat(G,"/").concat(e))},V=function(e,t){return function(e,t){return W.apply(this,arguments)}("".concat(G,"/").concat(e),t)},X=C.a.mark(Q),q=C.a.mark(Z),K=C.a.mark(ee),J=C.a.mark(te),$=C.a.mark(ae);function Q(e){var t,a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(k.b)(H,t);case 4:return a=n.sent,n.next=7,Object(k.d)({type:p,payload:a});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(k.d)((r=n.t0.response,{type:h,payload:r}));case 13:case"end":return n.stop()}var r}),X,null,[[1,9]])}function Z(e){var t,a,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(k.a)(t.map((function(e){return Object(k.b)(Y,e)})));case 4:return n=r.sent,n=(a=[]).concat.apply(a,Object(j.a)(n)),r.next=8,Object(k.d)({type:f,payload:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(k.d)((c=r.t0.response,{type:v,payload:c}));case 14:case"end":return r.stop()}var c}),q,null,[[1,10]])}function ee(e){var t;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(k.b)(z,t);case 4:if(200!==a.sent.status){a.next=8;break}return a.next=8,Object(k.d)({type:y,payload:t});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(k.d)((n=a.t0.response,{type:_,payload:n}));case 14:case"end":return a.stop()}var n}),K,null,[[1,10]])}function te(e){var t,a,n,r;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.id,n=t.requestBody,c.prev=1,c.next=4,Object(k.b)(V,a,n);case 4:return r=c.sent,c.next=7,Object(k.d)({type:P,payload:r});case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(k.d)((s=c.t0.response,{type:E,payload:s}));case 13:case"end":return c.stop()}var s}),J,null,[[1,9]])}function ae(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.f)(O,Q);case 2:return e.next=4,Object(k.e)(x,Z);case 4:return e.next=6,Object(k.e)(m,ee);case 6:return e.next=8,Object(k.e)(g,te);case 8:case"end":return e.stop()}}),$)}var ne=ae,re=C.a.mark(ce);function ce(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([Object(k.c)(ne)]);case 2:case"end":return e.stop()}}),re)}var se=Object(d.a)(),oe="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.c,ie=Object(l.d)(T,oe(Object(l.a)(se)));se.run(ce);var ue=ie,le=a(112),de=a(109),je=a(1);function be(){return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(le.a,{bg:"light",className:"mb-3",children:Object(je.jsx)(de.a,{children:Object(je.jsx)(le.a.Brand,{children:"CRUD NV"})})})})}var Oe=a(12),pe=a(10),he=a(113),xe=a(117),fe=a(115);function ve(e){var t=e.show,a=e.errorMessage,n=e.onClose;return Object(je.jsx)(fe.a,{show:t,onClose:n,children:Object(je.jsx)(fe.a.Header,{children:Object(je.jsx)("strong",{className:"me-auto",children:a})})})}var me=function(){var e=Object(n.useState)({title:"",body:""}),t=Object(pe.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(pe.a)(c,2),o=s[0],i=s[1],l=Object(n.useState)(!1),d=Object(pe.a)(l,2),j=d[0],p=d[1],h=Object(u.b)(),x=function(e){p(!1);var t=e.target.value,a=e.target.name;r((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(Oe.a)({},a,t))}))};return Object(je.jsxs)(de.a,{children:[Object(je.jsx)(ve,{show:j,errorMessage:o,onClose:function(){return p(!j)}}),Object(je.jsxs)(he.a,{className:"mb-3",children:[Object(je.jsxs)(he.a.Group,{className:"mb-3",controlId:"post-title",children:[Object(je.jsx)(he.a.Label,{children:"Title"}),Object(je.jsx)(he.a.Control,{type:"test",placeholder:"Title",onChange:x,name:"title",value:a.title}),Object(je.jsx)(he.a.Text,{className:"text-muted",children:"Please add the title to your new post"})]}),Object(je.jsxs)(he.a.Group,{className:"mb-3",controlId:"post-body",children:[Object(je.jsx)(he.a.Label,{children:"Post"}),Object(je.jsx)(he.a.Control,{type:"textarea",placeholder:"Tell us about your new post",onChange:x,name:"body",value:a.body})]}),Object(je.jsx)(xe.a,{size:"sm",variant:"primary",type:"submit",onClick:function(e){if(e.preventDefault(),!a.title||!a.body)return i("You must fill all the input box"),void p(!0);h(function(e){return{type:O,payload:e}}(Object(b.a)(Object(b.a)({},a),{},{userId:1})))},children:"Submit"})]})]})},ye=a(111),_e=a(74),ge=a(116),Pe=a(110),Ee=a(114);function Se(e){var t=e.handleCloseDeleteModal,a=e.showModal,n=e.deletePost,r=e.idToDelete;return Object(je.jsx)(Ee.a,{show:a,onHide:t,children:Object(je.jsxs)(Ee.a.Dialog,{children:[Object(je.jsx)(Ee.a.Header,{closeButton:!0,children:Object(je.jsx)(Ee.a.Title,{children:"Delete Post"})}),Object(je.jsxs)(Ee.a.Body,{children:[Object(je.jsx)("p",{children:"Are you sure want to delete this post?"}),Object(je.jsxs)(Pe.a,{sise:"sm",children:[Object(je.jsx)(xe.a,{size:"sm",variant:"danger",onClick:t,children:"Cancel"}),Object(je.jsx)(xe.a,{size:"sm",variant:"primary",onClick:function(){return n(r)},children:"Submit"})]})]})]})})}function we(e){var t=e.handleCloseEditPost,a=e.title,r=e.body,c=e.postIdToEdit,s=Object(u.b)(),o=Object(n.useState)({title:a,body:r}),i=Object(pe.a)(o,2),l=i[0],d=i[1],j=function(e){var t=e.target.value,a=e.target.name;d((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(Oe.a)({},a,t))}))},O=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(N(c,l)),t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(he.a,{className:"mb-3",children:[Object(je.jsxs)(he.a.Group,{className:"mb-3",controlId:"edit-title",children:[Object(je.jsx)(he.a.Label,{children:"Title"}),Object(je.jsx)(he.a.Control,{type:"test",onChange:j,name:"title",value:l.title}),a]}),Object(je.jsxs)(he.a.Group,{className:"mb-3",controlId:"edit-body",children:[Object(je.jsx)(he.a.Label,{children:"Post"}),Object(je.jsx)(he.a.Control,{type:"textarea",onChange:j,name:"body",value:l.body})]}),Object(je.jsxs)(Pe.a,{size:"sm",children:[Object(je.jsx)(xe.a,{variant:"danger",onClick:t,className:"mr-3",children:"Cancel"}),Object(je.jsx)(xe.a,{variant:"primary",onClick:O,children:"Submit"})]})]})}function Te(e){return Object(je.jsx)("div",{className:"mb-5",children:e.detail})}function De(){var e="loading...",t=Object(n.useState)(!1),a=Object(pe.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),o=Object(pe.a)(s,2),i=o[0],l=o[1],d=Object(n.useState)(null),j=Object(pe.a)(d,2),b=j[0],O=j[1],p=Object(n.useState)(!1),h=Object(pe.a)(p,2),f=h[0],v=h[1],y=[],_=Object(u.b)();Object(n.useEffect)((function(){!function(){for(var e=1;e<=100;e++)y.push(e);_({type:x,payload:y})}()}),[]);var g=function(){return v(!1)},P=Object(u.c)((function(e){return e.PostReducer})),E=P.posts,S=P.loadingAddNewPost,w=P.loadingRetrievePost,T=P.loadingDeletePost,D=P.loadingUpdatePost,C=P.error;return Object(je.jsxs)(de.a,{children:[Object(je.jsx)(Se,{handleCloseDeleteModal:function(){return c(!1)},showModal:r,deletePost:function(e){_(function(e){return{type:m,payload:e}}(e)),c(!1)},idToDelete:i}),C.message&&Object(je.jsx)(Te,{detail:C.message}),(S||T||D)&&Object(je.jsx)(Te,{detail:e}),w?e:E&&E.map((function(e){return Object(je.jsx)(ye.a,{className:"posts",children:Object(je.jsx)(_e.a,{lg:8,md:10,sm:12,children:Object(je.jsx)(ge.a,{className:"mb-3",children:Object(je.jsxs)(ge.a.Body,{children:[f&&b===e.id?Object(je.jsx)(we,{title:e.title,body:e.body,handleCloseEditPost:g,postIdToEdit:e.id}):Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ge.a.Title,{children:e.title}),Object(je.jsx)(ge.a.Text,{children:e.body})]}),!f&&Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(Pe.a,{size:"sm",children:[Object(je.jsx)(xe.a,{onClick:function(){return t=e.id,l(t),void c(!0);var t},variant:"danger",children:"Delete"}),Object(je.jsx)(xe.a,{variant:"primary",onClick:function(){return t=e.id,v(!0),void O(t);var t},children:"Edit"})]})})]})})})},"".concat(e.id,"}"))}))]})}function Ce(){return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(be,{}),Object(je.jsx)(me,{}),Object(je.jsx)(De,{})]})}var ke=function(){return Object(je.jsx)(u.a,{store:ue,children:Object(je.jsx)(o.a,{children:Object(je.jsx)(i.c,{children:Object(je.jsx)(i.a,{exact:!0,path:"/",element:Object(je.jsx)(Ce,{})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[107,1,2]]]);
//# sourceMappingURL=main.6d2c5a0b.chunk.js.map